(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{13:function(e,t,n){e.exports={pageNumbers:"Pagination_pageNumbers__1Ie5M",active:"Pagination_active__2UK-B",btnPages:"Pagination_btnPages__H2_6x"}},15:function(e,t,n){e.exports={landingImg:"Landing_landingImg__2Ax4r",landing:"Landing_landing__1hYF2",btn_home:"Landing_btn_home__2AOtb",title:"Landing_title__1p0Zl"}},21:function(e,t,n){e.exports={card:"Card_card__22apU",btn:"Card_btn__3sTGM"}},33:function(e,t,n){},34:function(e,t,n){},42:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){e.exports={img:"GameDetail_img__2nkA3"}},47:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(16),i=n.n(r),s=(n(33),n(34),n(2)),o=n(22),l=n(23),j=n(28),u=n(27),d=n(9),b=n(15),O=n.n(b),h=n(0),m=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:O.a.landing,children:[Object(h.jsx)("h1",{className:O.a.title,children:" Videogames Web "}),Object(h.jsx)("div",{className:O.a.landingImg,children:Object(h.jsx)(d.b,{to:"/home",style:{textDecoration:"none"},children:Object(h.jsx)("button",{className:O.a.btn_home,children:" Go to Home "})})})]})}}]),n}(a.Component),g=m,p=n(4),f=n(5),x=(n(42),n(17)),v=n(8),y=n(12),_=n.n(y),N="GET_GAMES",S="SEARCH_GAME",E="FILTER_GAMES",C="GET_GENRES",G="SET_SEARCHINPUT",A="GET_GAME_DETAIL",w="GET_PLATFORMS",k="POST_GAME",T="http://localhost:3001/";function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.order?(console.log("hola"),function(t){var n=e.orderBy,a="?order="+e.order;return fetch(T+"videogames"+a+"&orderby="+n).then((function(e){return e.json()})).then((function(e){t({type:N,payload:Object(v.a)(e)})})).catch((function(e){return console.log("Error",e)}))}):function(e){return fetch(T+"videogames").then((function(e){return e.json()})).then((function(t){e({type:N,payload:Object(v.a)(t)})})).catch((function(e){return console.log("Error",e)}))}}function I(){return function(e){return fetch(T+"genres").then((function(e){return e.json()})).then((function(t){e({type:C,payload:Object(v.a)(t)})})).catch((function(e){return console.log("Error",e)}))}}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.order?function(n){var a=t.orderBy,c="&order="+t.order;return fetch(T+"videogames?name="+e+c+"&orderby="+a).then((function(e){return e.json()})).then((function(t){n({type:S,payload:{input:e,games:Object(v.a)(t)}})})).catch((function(e){return console.log("Error",e)}))}:function(t){return fetch(T+"videogames?name="+e).then((function(e){return e.json()})).then((function(n){t({type:S,payload:{input:e,games:Object(v.a)(n)}})})).catch((function(e){return console.log("Error",e)}))}}function L(){return function(e){return fetch(T+"platforms").then((function(e){return e.json()})).then((function(t){e({type:w,payload:Object(v.a)(t)})})).catch((function(e){return console.log("Error",e)}))}}function R(){var e=Object(a.useState)(""),t=Object(p.a)(e,2),n=t[0],c=t[1],r=Object(f.c)();return Object(h.jsxs)("form",{className:"input-wrapper",children:[Object(h.jsx)("input",{className:"searc",onChange:function(e){c(e.target.value)},value:n,type:"text",placeholder:"Games"}),Object(h.jsx)("input",{name:"search",onClick:function(e){e.preventDefault(),r(P(n)),c("")},type:"submit",className:"btn",value:"Search"})]})}var F=n.p+"static/media/gamecontrol.91f1316d.png";n(44);function M(){return Object(h.jsxs)("nav",{className:"navbar",children:[Object(h.jsxs)("div",{className:"left-nav",children:[Object(h.jsx)("img",{id:"controlIcon",src:F,width:"30",height:"30",alt:""}),Object(h.jsx)("h2",{className:"title-header",children:"Play, enjoy and live"})]}),Object(h.jsx)(R,{})]})}var B=n(3);function H(){var e,t=Object(a.useState)({alph:"none",rating:"none",genre:"none",type:"none"}),n=Object(p.a)(t,2),c=n[0],r=n[1],i=Object(f.d)((function(e){return e.genres})),s=Object(f.d)((function(e){return e.searchInput})),o=Object(f.c)();function l(e){r({genre:"none",type:"none",rating:"rating"==e.target.name?e.target.value:"none",alph:"alph"==e.target.name?e.target.value:"none"});var t={order:e.target.name,orderBy:e.target.value};o(""!==s?P(s,t):D(t))}function j(e){r(Object(B.a)(Object(B.a)({},c),{},{type:"type"===e.target.name?e.target.value:"none",genre:"genre"===e.target.name?e.target.value:"none"}));var t={filter:e.target.name,filterBy:e.target.value};o(function(e){return{type:E,payload:e}}(t))}return e=I,Object(a.useEffect)((function(){o(e())}),[]),Object(h.jsxs)("div",{className:"left-bar",children:[Object(h.jsxs)("section",{children:[Object(h.jsx)("label",{htmlFor:"alph",children:"Alphabetical order "}),Object(h.jsxs)("select",{onChange:l,value:c.alph,name:"alph",children:[Object(h.jsx)("option",{disabled:!0,value:"none",children:"Select"}),Object(h.jsx)("option",{value:"ASC",children:"'A to Z'"}),Object(h.jsx)("option",{value:"DESC",children:"'Z to A'"})]})]}),Object(h.jsxs)("section",{children:[Object(h.jsx)("label",{htmlFor:"rating",children:"Rating order "}),Object(h.jsxs)("select",{onChange:l,value:c.rating,name:"rating",children:[Object(h.jsx)("option",{disabled:!0,value:"none",children:"Select"}),Object(h.jsx)("option",{value:"DESC",children:"High to low"}),Object(h.jsx)("option",{value:"ASC",children:"Low to high"})]})]}),Object(h.jsxs)("section",{children:[Object(h.jsx)("label",{htmlFor:"genre",children:"Genre filter "}),Object(h.jsxs)("select",{onChange:j,value:c.genre,name:"genre",children:[Object(h.jsx)("option",{disabled:!0,value:"none",children:"Select"}),i.length>0?i.map((function(e,t){return Object(h.jsx)("option",{value:e.name,children:e.name},t)})):"Loading"]})]}),Object(h.jsxs)("section",{children:[Object(h.jsx)("label",{htmlFor:"type",children:"VideoGame type filter "}),Object(h.jsxs)("select",{onChange:j,value:c.type,name:"type",children:[Object(h.jsx)("option",{disabled:!0,value:"none",children:"Select"}),Object(h.jsx)("option",{value:"added",children:"Added"}),Object(h.jsx)("option",{value:"existing",children:"Existing"})]})]}),Object(h.jsx)("button",{type:"button",onClick:function(){r({alph:"none",rating:"none",genre:"none",type:"none"}),o({type:G,payload:""}),o(D())},className:"btn",children:"Reset"})]})}var U=n(10),q=n(21),V=n.n(q);function X(e){return Object(h.jsxs)("div",{className:V.a.card,children:[Object(h.jsx)("img",{src:e.imageLink,alt:""}),Object(h.jsx)("div",{children:e.name}),Object(h.jsx)("div",{children:e.genre}),Object(h.jsx)(d.b,{to:"/gamedetail/"+e.id,style:{textDecoration:"none"},children:Object(h.jsx)("button",{className:V.a.btn,children:"More Info"})})]})}function J(e){var t=e.items,n=Object(a.useState)("Loading..."),r=Object(p.a)(n,2),i=r[0],s=r[1];Object(f.d)((function(e){return e.games}));return Object(a.useEffect)((function(){setTimeout((function(){0===t.length&&s("Not found")}),5e3)}),[t]),Object(h.jsx)(c.a.Fragment,{children:t.length>0?t.map((function(e){return Object(h.jsx)(X,{name:e.name,genre:e.genres[0]?e.genres[0].name:"Unknown",imageLink:e.background_image,id:e.id},e.id)})):Object(h.jsx)("div",{children:i})})}var Z=n(13),z=n.n(Z);var K=Object(f.b)((function(e){return{games:e.games}}),(function(e){return{getGames:function(t){return e(D(t))}}}))((function(e){for(var t=e.games,n=e.getGames,c=Object(a.useState)([]),r=Object(p.a)(c,2),i=r[0],s=r[1],o=Object(a.useState)(1),l=Object(p.a)(o,2),j=l[0],u=l[1],d=Object(a.useState)(15),b=Object(p.a)(d,2),O=b[0],m=(b[1],Object(a.useState)(2)),g=Object(p.a)(m,2),f=g[0],v=(g[1],Object(a.useState)(2)),y=Object(p.a)(v,2),N=y[0],S=y[1],E=Object(a.useState)(0),C=Object(p.a)(E,2),G=C[0],A=C[1],w=[],k=1;k<=Math.ceil(t.length/O);k++)w.push(k);var T=j*O,D=T-O;function I(e){u(Number(e.target.id))}function P(){u(j-1),(j-1)%f===0&&(S(N-f),A(G-f))}function L(){u(j+1),j+1>N&&(S(N+f),A(G+f))}Object(a.useEffect)((function(){function e(){return(e=Object(x.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){j>w.length&&u(1),s(t.slice(D,T))}),[t,j]);var R=null;w.length>N&&(R=Object(h.jsx)("li",{onClick:L,children:"..."}));var F=null;j>f&&(F=Object(h.jsx)("li",{onClick:P,children:"..."}));var M=w.map((function(e){var t;return e<N+1&&e>G?Object(h.jsx)("li",(t={onClick:I,className:z.a.pageNumber,id:e},Object(U.a)(t,"className",e==j?z.a.active:null),Object(U.a)(t,"children",e),t),e):null})),B=Object(h.jsxs)("ul",{className:z.a.pageNumbers,children:[1===j?null:Object(h.jsx)("li",{onClick:P,className:z.a.btnPages,name:"prev",children:"Prev"}),F,M,R,j==w.length?null:Object(h.jsx)("li",{onClick:L,className:z.a.btnPages,name:"next",children:"Next"})]});return Object(h.jsxs)("div",{children:[w.length>1?B:null,Object(h.jsx)(J,{items:i})]})}));n(45);function W(){return Object(h.jsxs)("div",{className:"home",children:[Object(h.jsx)(M,{}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("aside",{children:Object(h.jsx)(H,{})}),Object(h.jsx)("section",{children:Object(h.jsx)(K,{})})]})]})}function Y(e){var t={};return e.name||(t.name="Name is required"),e.rating?(Number(e.rating)>5||Number(e.rating)<1)&&(t.rating="Rating is invalid"):t.rating="Rating is required",e.released||(t.released="Released is required"),e.released||(t.released="Released is required"),e.description||(t.description="description is required"),e.genres.length<1&&(t.genres="At least one gender"),e.platforms.length<1&&(t.platforms="At least one platform"),t}function Q(){var e=Object(a.useState)({name:"",released:"",rating:"",description:"",genres:"",platforms:""}),t=Object(p.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)({name:"",released:"",rating:"",description:"",genre:"select",platform:"select"}),i=Object(p.a)(r,2),s=i[0],o=i[1],l=Object(a.useState)([]),j=Object(p.a)(l,2),u=j[0],d=j[1],b=Object(a.useState)([]),O=Object(p.a)(b,2),m=O[0],g=O[1],y=Object(f.d)((function(e){return e.genres})),N=Object(f.d)((function(e){return e.platforms})),S=Object(f.c)();function E(e){Object(a.useEffect)((function(){S(e())}),[])}E(I),E(L);var C=function(e){o(Object(B.a)(Object(B.a)({},s),{},Object(U.a)({},e.target.name,e.target.value))),c(Y(Object(B.a)(Object(B.a)({},s),{},Object(U.a)({genres:u,platforms:m},e.target.name,e.target.value)))),console.log(s)};function G(e){var t;e.preventDefault(),o({name:"",released:"",rating:"",description:""}),d([]),g([]),S((t=Object(B.a)({status:"added",genres:u,platforms:m},s),function(e){function n(){return n=Object(x.a)(_.a.mark((function e(){var t,n,a,c=arguments;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",n=c.length>1&&void 0!==c[1]?c[1]:{},e.next=4,fetch(t,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(n)});case 4:return a=e.sent,e.abrupt("return",a.json());case 6:case"end":return e.stop()}}),e)}))),n.apply(this,arguments)}return function(){return n.apply(this,arguments)}("http://localhost:3001/videogame",t).then((function(t){e({type:k,payload:t})})).catch((function(e){return console.log("server response error",e)}))}))}return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{children:"Add VideoGame"}),Object(h.jsx)("form",{className:"form",onSubmit:G,children:Object(h.jsxs)("div",{className:"card",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{children:"Name "}),Object(h.jsx)("input",{type:"text",onChange:C,name:"name",value:s.name})]}),n.name&&Object(h.jsxs)("p",{children:[" ",n.name," "]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{children:"Released "}),Object(h.jsx)("input",{placeholder:"example: 2013-12-18",type:"text",onChange:C,name:"released",value:s.released}),n.released&&Object(h.jsxs)("p",{children:[" ",n.released," "]})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{children:"Rating "}),Object(h.jsx)("input",{placeholder:"1 to 5 example: 3.1",type:"text",onChange:C,name:"rating",value:s.rating}),n.rating&&Object(h.jsxs)("p",{children:[" ",n.rating," "]})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{children:Object(h.jsx)("label",{children:"Description: "})}),Object(h.jsx)("textarea",{name:"description",value:s.description,onChange:C,rows:"6",cols:"40"}),n.description&&Object(h.jsxs)("p",{children:[" ",n.description," "]})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{children:"Genres "}),Object(h.jsxs)("select",{name:"genres",value:s.genre,onChange:function(e){d(Array.from(new Set([].concat(Object(v.a)(u),[e.target.value])))),c(Y(Object(B.a)(Object(B.a)({},s),{},Object(U.a)({genres:u,platforms:m},e.target.name,e.target.value))))},children:[Object(h.jsx)("option",{default:!0,value:"select",children:"select"}),null===y||void 0===y?void 0:y.map((function(e,t){return Object(h.jsx)("option",{value:e.name,children:e.name},t)}))]}),Object(h.jsx)("br",{}),null===u||void 0===u?void 0:u.map((function(e,t){return Object(h.jsxs)("span",{children:['"',e,'" ']},t)})),n.genres&&Object(h.jsxs)("p",{children:[" ",n.genres," "]})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{children:"Platforms "}),Object(h.jsxs)("select",{name:"platforms",value:s.platform,onChange:function(e){g(Array.from(new Set([].concat(Object(v.a)(m),[e.target.value])))),c(Y(Object(B.a)(Object(B.a)({},s),{},Object(U.a)({genres:u,platforms:m},e.target.name,e.target.value))))},children:[Object(h.jsx)("option",{default:!0,value:"select",children:"select"}),null===N||void 0===N?void 0:N.map((function(e,t){return Object(h.jsx)("option",{value:e.name,children:e.name},t)}))]}),Object(h.jsx)("br",{}),null===m||void 0===m?void 0:m.map((function(e,t){return Object(h.jsxs)("span",{children:['"',e,'" ']},t)})),n.platforms&&Object(h.jsxs)("p",{children:[" ",n.platforms," "]})]}),Object(h.jsx)("button",{className:"btn",type:"submit",onClick:G,name:"button",children:"Submit"})]})})]})}var $=n(46);function ee(){var e,t,n=Object(s.g)().id,a=Object(f.d)((function(e){return e.gameDetail})),r=Object(f.c)(),i={backgroundImage:"url("+a.background_image+")",width:"100%",minHeight:"40rem",backgroundPosition:"center",backgroundSize:"cover"};return c.a.useEffect((function(){r(function(e){return function(t){return fetch(T+"videogames/"+e).then((function(e){return e.json()})).then((function(e){t({type:A,payload:e})})).catch((function(e){return console.log("Error",e)}))}}(n))}),[]),Object(h.jsxs)("div",{style:i,children:[Object(h.jsx)("h1",{children:a.name}),Object(h.jsx)("div",{className:$.content,children:a.description}),Object(h.jsxs)("span",{children:[Object(h.jsx)("h3",{children:"Genres"}),Object(h.jsx)("ul",{children:null===(e=a.genres)||void 0===e?void 0:e.map((function(e,t){return Object(h.jsx)("li",{children:e.name},t)}))})]}),Object(h.jsxs)("span",{children:[Object(h.jsx)("h3",{children:"Genres"}),Object(h.jsx)("ul",{children:null===(t=a.platforms)||void 0===t?void 0:t.map((function(e,t){var n=e.platform?e.plataform.name:e.name;return Object(h.jsx)("li",{children:n},t)}))})]}),Object(h.jsx)("div",{children:a.rating}),Object(h.jsxs)("div",{children:["released date",a.released]}),Object(h.jsx)(d.b,{to:"/addgame",style:{textDecoration:"none"},children:Object(h.jsx)("button",{className:$.btn,children:"Create New Game"})})]})}var te=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)(s.c,{children:[Object(h.jsx)(s.a,{exact:!0,path:"/",element:Object(h.jsx)(g,{})}),Object(h.jsx)(s.a,{path:"/home",element:Object(h.jsx)(W,{})}),Object(h.jsx)(s.a,{path:"/gamedetail/:id",element:Object(h.jsx)(ee,{})}),Object(h.jsx)(s.a,{path:"/addgame",element:Object(h.jsx)(Q,{})})]})})},ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,48)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))},ae=n(18),ce={games:[],searchInput:"",temporaryGames:[],gameDetail:{},genres:[],platforms:[],gameAdded:{}};var re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return console.log(t.payload),Object(B.a)(Object(B.a)({},e),{},{temporaryGames:t.payload,games:Object(v.a)(t.payload)});case E:return console.log(t.payload.filter),"genre"===t.payload.filter?Object(B.a)(Object(B.a)({},e),{},{games:e.temporaryGames.filter((function(e){return e.genres.reduce((function(e,n){return e||n.name===t.payload.filterBy}),!1)}))}):Object(B.a)(Object(B.a)({},e),{},{games:e.temporaryGames.filter((function(e){return e.status===t.payload.filterBy}))});case S:return Object(B.a)(Object(B.a)({},e),{},{games:t.payload.games,searchInput:t.payload.input,temporaryGames:t.payload.games});case G:return Object(B.a)(Object(B.a)({},e),{},{searchInput:t.payload});case C:return Object(B.a)(Object(B.a)({},e),{},{genres:Object(v.a)(t.payload)});case A:return Object(B.a)(Object(B.a)({},e),{},{gameDetail:t.payload});case w:return Object(B.a)(Object(B.a)({},e),{},{platforms:t.payload});case k:return Object(B.a)(Object(B.a)({},e),{},{gameAdded:t.payload});default:return e}},ie=n(26),se=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),oe=Object(ae.c)(re,Object(ae.b)(Object(ae.a)(ie.a),se));i.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(f.a,{store:oe,children:Object(h.jsx)(d.a,{children:Object(h.jsx)(te,{})})})}),document.getElementById("root")),ne()}},[[47,1,2]]]);
//# sourceMappingURL=main.0ccae976.chunk.js.map